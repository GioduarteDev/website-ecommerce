<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Catálogo de Sapatos ABELAR</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }
    @font-face {
      font-family: 'MoonType';
      src: url('../fonts/MoonType.ttf') format('truetype');
    }
    body {
      background-color: #29443c;
      color: #333;
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      padding: 15px;
      border-radius: 8px;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 20px;
      margin-bottom: 20px;
      border-bottom: 1px solid #eee;
    }
    .left {
      display: flex;
      align-items: center;
      gap: 30px;
    }
    .left a {
      font-size: 14px;
      color: #000;
      text-decoration: none;
      font-weight: 500;
      transition: opacity 0.3s;
    }
    .left a:hover {
      opacity: 0.7;
    }
    .right a {
      font-family: 'MoonType', sans-serif;
      font-size: 28px;
      font-weight: 600;
      color: #000;
      cursor: pointer;
      text-decoration: none;
    }
    .right a:hover {
      opacity: 0.7;
    }
    .catalog-layout {
      display: flex;
      gap: 30px;
    }
    .categoria-block {
      background: #f0f0f0 url('fttenis/ftprincipal.jpg') center/cover no-repeat;
      border-radius: 8px;
      font-family: 'MoonType', sans-serif;
      width: 250px;
      height: 350px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      color: rgb(245, 245, 245);
      font-size: 1.8rem;
      font-weight: 600;
      padding: 30px 15px 0;
      text-align: center;
      position: sticky;
      top: 30px;
      text-shadow: 1px 1px 3px rgba(8, 3, 3, 0.5);
    }
    .cards-main-container {
      flex: 1;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      align-items: stretch;
    }
    .card {
      background: white;
      border-radius: 4px;
      overflow: hidden;
      transition: all 0.3s ease;
      border: 1px solid #eee;
      position: relative;
      text-decoration: none;
      display: flex;
      flex-direction: column;
      height: 480px;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .card img {
      width: 100%;
      height: 60%;
      object-fit: cover;
      display: block;
    }
    .tag {
      position: absolute;
      top: 10px;
      right: 10px;
      background: black;
      color: white;
      font-size: 10px;
      padding: 3px 6px;
      border-radius: 2px;
      font-weight: 500;
      z-index: 2;
    }
    .card-content {
      padding: 10px;
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      gap: 6px;
    }
    .card-content h3 {
      font-size: 1rem;
      margin-bottom: 8px;
      color: #000;
      font-weight: 600;
    }
    .card-content p {
      font-weight: 500;
      color: #666;
      margin-bottom: 15px;
      font-size: 0.9rem;
    }
    .card-content button.add-to-cart-btn {
      background-color: #000;
      color: white;
      border: none;
      padding: 8px 0;
      border-radius: 2px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.8rem;
      width: 100%;
      letter-spacing: 0.5px;
      transition: background 0.3s;
      margin-top: auto;
    }
    .card-content button.add-to-cart-btn:hover {
      background: #333;
    }
    .favorite-btn {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(255, 255, 255, 0.7);
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
      transition: transform 0.2s;
    }
    .favorite-btn svg {
      width: 18px;
      height: 18px;
      fill: #555;
    }
    .favorite-btn.favorited svg {
      fill: #e74c3c;
    }
    .opcoes-container {
      margin-bottom: 10px;
    }
    .tamanhos-container {
      display: flex;
      gap: 8px;
      margin-bottom: 8px;
    }
    .tamanho-option {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background-color: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      cursor: pointer;
      border: 1px solid #ddd;
      font-weight: 500;
    }
    .tamanho-option.selected {
      background-color: #000;
      color: white;
      border-color: #000;
    }
    .cores-container {
      display: flex;
      gap: 8px;
    }
    .cor-option {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      cursor: pointer;
      border: 1px solid #ddd;
    }
    .cor-option.selected {
      transform: scale(1.1);
      box-shadow: 0 0 0 2px white, 0 0 0 4px #000;
    }
    .carrinho-lateral {
      position: fixed;
      top: 0;
      right: -400px;
      width: 380px;
      height: 100%;
      background-color: #fff;
      box-shadow: -5px 0 15px rgba(0,0,0,0.15);
      z-index: 1001;
      display: flex;
      flex-direction: column;
      transition: right 0.4s ease-in-out;
    }
    .carrinho-lateral.aberto {
      right: 0;
    }
    .carrinho-lateral-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      border-bottom: 1px solid #eee;
    }
    .fechar-btn {
      background: none;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      color: #888;
    }
    .carrinho-lateral-body {
      flex-grow: 1;
      overflow-y: auto;
      padding: 10px;
    }
    .carrinho-lateral-item {
      display: flex;
      align-items: center;
      padding: 10px;
      border-bottom: 1px solid #f0f0f0;
      gap: 15px;
    }
    .carrinho-lateral-item img {
      width: 70px;
      height: 70px;
      object-fit: cover;
      border-radius: 4px;
    }
    .carrinho-lateral-item .info {
      flex-grow: 1;
    }
    .carrinho-lateral-item h4 {
      font-size: 0.9rem;
      margin: 0 0 5px 0;
    }
    .carrinho-lateral-item p.preco {
        font-size: 0.9rem;
        font-weight: 600;
        color: #333;
        margin: 0;
    }
    .carrinho-lateral-item .qty-controls {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 8px;
    }
    .carrinho-lateral-item .btn-qty-lateral {
        background-color: #eee;
        border: 1px solid #ddd;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        cursor: pointer;
        font-weight: bold;
    }
    .remover-item-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: #cc0000;
      cursor: pointer;
      margin-left: auto;
      padding: 0 5px;
    }
    .carrinho-vazio-msg {
        text-align: center;
        padding: 40px;
        color: #888;
    }
    .carrinho-lateral-footer {
      padding: 20px;
      border-top: 1px solid #eee;
      background-color: #f9f9f9;
    }
    .carrinho-lateral-footer .total {
      display: flex;
      justify-content: space-between;
      font-size: 1.1rem;
      margin-bottom: 15px;
    }
    .btn-finalizar {
      display: block;
      width: 100%;
      padding: 15px;
      background-color: #000;
      color: #fff;
      text-align: center;
      text-decoration: none;
      border-radius: 4px;
      font-weight: 600;
      margin-bottom: 10px;
    }
    .btn-limpar {
        display: block;
        width: 100%;
        padding: 10px;
        background-color: transparent;
        color: #888;
        text-align: center;
        text-decoration: none;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-weight: 500;
        cursor: pointer;
    }

    /* --- CSS PARA OS BOTÕES DE NAVEGAÇÃO --- */
    .navegacao-categorias {
        display: flex;
        justify-content: space-between;
        padding: 30px 0 10px 0; 
        border-top: 1px solid #eee; 
        margin-top: 30px; 
    }
    .botao-nav {
        padding: 12px 24px;
        background-color: #29443c;
        color: #fff;
        text-decoration: none;
        border-radius: 8px;
        font-weight: bold;
        transition: all 0.3s ease;
        text-align: center;
    }
    .botao-nav:hover {
        background-color: #29443c;
        transform: translateY(-3px);
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    /* --- FIM DO CSS ADICIONADO --- */

  </style>
</head>
<body>

  <div class="container"> 
    <header>
      <div class="left">
        <a href="../login/index.html">Login</a>
        <a href="#" id="abrir-carrinho-lateral">Carrinho (<span id="cart-count">0</span>)</a>
      </div>
      <div class="right">
        <a href="../fundoprincipal/index.html" style="text-decoration: none; color: inherit;">ABELAR</a>
      </div>
    </header>

    <main>
      <div class="catalog-layout">
        <div class="categoria-block">SAPATOS MASCULINOS</div>
        <div class="cards-main-container">

          <div class="card">
            <button class="favorite-btn" data-id="sap-loafer-mocassim"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <span class="tag">NOVO</span>
            <img src="fttenis/sap1.jpg" alt="Sapato Loafer (Mocassim)" />
            <div class="card-content">
              <h3>Sapato Loafer (Mocassim)</h3>
              <p>R$ 119,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="39">39</div>
                  <div class="tamanho-option" data-tamanho="41">41</div>
                  <div class="tamanho-option" data-tamanho="42">42</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #8B4513;" data-cor="Marrom"></div>
                  <div class="cor-option" style="background-color: #000000;" data-cor="Preto"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="sap-loafer-mocassim" data-nome="Sapato Loafer (Mocassim)" data-preco="119.90" data-imagem="fttenis/sap1.jpg">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="tenis-esportivo-1"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <span class="tag">LANÇAMENTO</span>
            <img src="fttenis/tenis1.jpg" alt="Tênis Esportivo" />
            <div class="card-content">
              <h3>Tênis Esportivo</h3>
              <p>R$ 119,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="40">40</div>
                  <div class="tamanho-option" data-tamanho="42">42</div>
                  <div class="tamanho-option" data-tamanho="44">44</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #000000;" data-cor="Preto"></div>
                  <div class="cor-option" style="background-color: #ffffff; border: 1px solid #ddd;" data-cor="Branco"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="tenis-esportivo-1" data-nome="Tênis Esportivo" data-preco="119.90" data-imagem="fttenis/tenis1.jpg">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="tenis-derby-esportivo"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <img src="fttenis/tenis6.jpg" alt="Tênis Derby Esportivo" />
            <div class="card-content">
              <h3>Tênis Derby Esportivo</h3>
              <p>R$ 219,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="41">41</div>
                  <div class="tamanho-option" data-tamanho="42">42</div>
                  <div class="tamanho-option" data-tamanho="43">43</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #b22222;" data-cor="Vermelho"></div>
                  <div class="cor-option" style="background-color: #800000;" data-cor="Bordô"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="tenis-derby-esportivo" data-nome="Tênis Derby Esportivo" data-preco="219.90" data-imagem="fttenis/tenis6.jpg">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="tenis-driver"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <span class="tag">PROMO</span>
            <img src="fttenis/tenis3.png" alt="Tênis Driver" />
            <div class="card-content">
              <h3>Tênis Driver</h3>
              <p>R$ 239,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="38">38</div>
                  <div class="tamanho-option" data-tamanho="40">40</div>
                  <div class="tamanho-option" data-tamanho="41">41</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #0000cd;" data-cor="Azul"></div>
                  <div class="cor-option" style="background-color: #1e90ff;" data-cor="Azul Claro"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="tenis-driver" data-nome="Tênis Driver" data-preco="239.90" data-imagem="fttenis/tenis3.png">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="tenis-dockside"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <img src="fttenis/sap2.png" alt="Tênis Dockside" />
            <div class="card-content">
              <h3>Tênis Dockside</h3>
              <p>R$ 249,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="40">40</div>
                  <div class="tamanho-option" data-tamanho="41">41</div>
                  <div class="tamanho-option" data-tamanho="43">43</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #696969;" data-cor="Cinza Escuro"></div>
                  <div class="cor-option" style="background-color: #2f4f4f;" data-cor="Chumbo"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="tenis-dockside" data-nome="Tênis Dockside" data-preco="249.90" data-imagem="fttenis/sap2.png">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="bota-chukka"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <span class="tag">ÚLTIMAS</span>
            <img src="fttenis/sap3.jfif" alt="Bota Chukka" />
            <div class="card-content">
              <h3>Bota Chukka</h3>
              <p>R$ 259,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="39">39</div>
                  <div class="tamanho-option" data-tamanho="40">40</div>
                  <div class="tamanho-option" data-tamanho="42">42</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #D2B48C;" data-cor="Tan"></div>
                  <div class="cor-option" style="background-color: #8B4513;" data-cor="Marrom"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="bota-chukka" data-nome="Bota Chukka" data-preco="259.90" data-imagem="fttenis/sap3.jfif">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="sapato-brogue"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <img src="fttenis/sap4.jfif" alt="Sapato Brogue" />
            <div class="card-content">
              <h3>Sapato Brogue</h3>
              <p>R$ 254,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="40">40</div>
                  <div class="tamanho-option" data-tamanho="41">41</div>
                  <div class="tamanho-option" data-tamanho="42">42</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #000000;" data-cor="Preto"></div>
                  <div class="cor-option" style="background-color: #A0522D;" data-cor="Sienna"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="sapato-brogue" data-nome="Sapato Brogue" data-preco="254.90" data-imagem="fttenis/sap4.jfif">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="tenis-esportivo-2"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <span class="tag">DESTAQUE</span>
            <img src="fttenis/tenis7.jpg" alt="Tênis Esportivo" />
            <div class="card-content">
              <h3>Tênis Esportivo</h3>
              <p>R$ 239,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="41">41</div>
                  <div class="tamanho-option" data-tamanho="43">43</div>
                  <div class="tamanho-option" data-tamanho="44">44</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #8b4513;" data-cor="Marrom"></div>
                  <div class="cor-option" style="background-color: #a0522d;" data-cor="Marrom Claro"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="tenis-esportivo-2" data-nome="Tênis Esportivo" data-preco="239.90" data-imagem="fttenis/tenis7.jpg">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="skate-shoe"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <img src="fttenis/tenis9.jpg" alt="Skate Shoe" />
            <div class="card-content">
              <h3>Skate Shoe</h3>
              <p>R$ 255,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="40">40</div>
                  <div class="tamanho-option" data-tamanho="42">42</div>
                  <div class="tamanho-option" data-tamanho="43">43</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #4682b4;" data-cor="Azul Steel"></div>
                  <div class="cor-option" style="background-color: #5f9ea0;" data-cor="Azul Cadete"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="skate-shoe" data-nome="Skate Shoe" data-preco="255.90" data-imagem="fttenis/tenis9.jpg">COMPRAR</button>
            </div>
          </div>

          <div class="card">
            <button class="favorite-btn" data-id="tenis-slip"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
            <span class="tag">NOVO</span>
            <img src="fttenis/tenis8.jpg" alt="Tênis Casual Slip" />
            <div class="card-content">
              <h3>Tênis Casual Slip</h3>
              <p>R$ 239,90</p>
              <div class="opcoes-container">
                <div class="tamanhos-container">
                  <div class="tamanho-option" data-tamanho="39">39</div>
                  <div class="tamanho-option" data-tamanho="40">40</div>
                  <div class="tamanho-option" data-tamanho="41">41</div>
                </div>
                <div class="cores-container">
                  <div class="cor-option" style="background-color: #ffffff; border: 1px solid #ddd;" data-cor="Branco"></div>
                  <div class="cor-option" style="background-color: #f5f5f5;" data-cor="Branco Gelo"></div>
                </div>
              </div>
              <button class="add-to-cart-btn" data-id="tenis-slip" data-nome="Tênis Casual Slip" data-preco="239.90" data-imagem="fttenis/tenis8.jpg">COMPRAR</button>
            </div>
          </div>

        </div>
      </div>
    </main>

 <div class="navegacao-categorias">
  <a href="../acessorios/index.html" class="botao-nav">&larr; Voltar (Acessórios)</a>
  <a href="../tendencias/index.html" class="botao-nav">Avançar (Tendências) &rarr;</a>
</div>
  </div>
  
  <div id="carrinho-lateral-modal" class="carrinho-lateral">
    <div class="carrinho-lateral-header">
      <h2>Seu Carrinho</h2>
      <button id="fechar-carrinho-lateral" class="fechar-btn">&times;</button>
    </div>
    <div id="itens-carrinho-lateral" class="carrinho-lateral-body">
      </div>
    <div class="carrinho-lateral-footer">
      <div class="total">
          <strong>Total:</strong>
          <span id="total-carrinho-lateral">R$ 0,00</span>
      </div>
      <a href="../carrinho/index.html" class="btn-finalizar">Finalizar Compra</a>
      <button id="limpar-carrinho-btn" class="btn-limpar">Esvaziar Carrinho</button>
    </div>
  </div>
  
  <script src="../js/carrinho.js"></script> 
  
 <script>
document.addEventListener('DOMContentLoaded', function() {
    // --- ELEMENTOS DO DOM ---
    const modalCarrinho = document.getElementById('carrinho-lateral-modal');
    const corpoCarrinhoLateral = document.getElementById('itens-carrinho-lateral');
    const totalCarrinhoLateralEl = document.getElementById('total-carrinho-lateral');

    // --- FUNÇÕES AUXILIARES ---
    function formatCurrency(value) {
        return 'R$ ' + value.toFixed(2).replace('.', ',');
    }

    function getFavoritos() {
        const favoritos = localStorage.getItem('favoritos');
        return favoritos ? JSON.parse(favoritos) : [];
    }

    function salvarFavoritos(favoritos) {
        localStorage.setItem('favoritos', JSON.stringify(favoritos));
    }

    function getCarrinho() {
        const carrinho = localStorage.getItem('carrinho');
        return carrinho ? JSON.parse(carrinho) : [];
    }

    function salvarCarrinho(carrinho) {
        localStorage.setItem('carrinho', JSON.stringify(carrinho));
        atualizarContadorHeader();
    }

    // --- FUNÇÕES PRINCIPAIS ---
    function toggleFavorito(id, botao) {
        let favoritos = getFavoritos();
        const index = favoritos.indexOf(id);

        if (index > -1) {
            favoritos.splice(index, 1);
            botao.classList.remove('favorited');
        } else {
            favoritos.push(id);
            botao.classList.add('favorited');
        }
        salvarFavoritos(favoritos);
    }

    function renderizarStatusFavoritos() {
        const favoritos = getFavoritos();
        document.querySelectorAll('.favorite-btn').forEach(btn => {
            if (favoritos.includes(btn.dataset.id)) {
                btn.classList.add('favorited');
            } else {
                btn.classList.remove('favorited');
            }
        });
    }

    function limparCarrinho() {
        if (confirm('Tem certeza que deseja esvaziar seu carrinho?')) {
            salvarCarrinho([]);
            renderizarItensNoCarrinhoLateral();
        }
    }

    function renderizarItensNoCarrinhoLateral() {
        const carrinho = getCarrinho();
        corpoCarrinhoLateral.innerHTML = '';
        let subtotal = 0;

        if (carrinho.length === 0) {
            corpoCarrinhoLateral.innerHTML = '<div class="carrinho-vazio-msg"><p>Seu carrinho está vazio.</p></div>';
            totalCarrinhoLateralEl.textContent = 'R$ 0,00';
            return;
        }

        // Fragmento de documento para melhor performance
        const fragment = document.createDocumentFragment();

        carrinho.forEach(item => {
            const precoNumerico = parseFloat(item.preco);
            subtotal += precoNumerico * item.quantidade;

            const itemDiv = document.createElement('div');
            itemDiv.className = 'carrinho-lateral-item';
            itemDiv.dataset.id = item.id;
            
            // Tratamento seguro para imagens
            const imgHTML = item.imagem ? `<img src="${item.imagem}" alt="${item.nome}" onerror="this.style.display='none'">` : '';
            
            itemDiv.innerHTML = `
                ${imgHTML}
                <div class="info">
                    <h4>${item.nome}</h4>
                    <p class="preco">${formatCurrency(precoNumerico)}</p>
                    <div class="qty-controls">
                        <button class="btn-qty-lateral" data-id="${item.id}" data-change="-1">-</button>
                        <span>${item.quantidade}</span>
                        <button class="btn-qty-lateral" data-id="${item.id}" data-change="1">+</button>
                    </div>
                </div>
                <button class="remover-item-btn" data-id="${item.id}">&times;</button>
            `;
            
            fragment.appendChild(itemDiv);
        });

        corpoCarrinhoLateral.appendChild(fragment);
        totalCarrinhoLateralEl.textContent = formatCurrency(subtotal);
        ligarControlesDoCarrinhoLateral();
    }

    function ligarControlesDoCarrinhoLateral() {
        document.querySelectorAll('.remover-item-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                removerItemDoCarrinho(this.dataset.id);
                renderizarItensNoCarrinhoLateral();
            });
        });

        document.querySelectorAll('.btn-qty-lateral').forEach(btn => {
            btn.addEventListener('click', function() {
                const id = this.dataset.id;
                const change = parseInt(this.dataset.change);
                const item = getCarrinho().find(p => p.id === id);
                
                if (item) {
                    const novaQuantidade = item.quantidade + change;
                    if (novaQuantidade > 0) {
                        atualizarQuantidadeItem(id, novaQuantidade);
                    } else {
                        removerItemDoCarrinho(id);
                    }
                    renderizarItensNoCarrinhoLateral();
                }
            });
        });
    }

    function atualizarContadorHeader() {
        const carrinho = getCarrinho();
        const totalItens = carrinho.reduce((total, item) => total + item.quantidade, 0);
        const contador = document.querySelector('.carrinho-contador');
        if (contador) {
            contador.textContent = totalItens > 0 ? `(${totalItens})` : '';
        }
    }

    function adicionarAoCarrinho(id, nome, preco, imagem) {
        let carrinho = getCarrinho();
        const itemExistente = carrinho.find(item => item.id === id);

        if (itemExistente) {
            itemExistente.quantidade += 1;
        } else {
            carrinho.push({
                id: id,
                nome: nome,
                preco: preco,
                imagem: imagem || '', // Tratamento para imagem opcional
                quantidade: 1
            });
        }

        salvarCarrinho(carrinho);
        // ALERTA DE ADICIONADO AO CARRINHO (MANTIDO COMO SOLICITADO)
        alert(`"${nome}" foi adicionado ao carrinho!`);
    }

    function removerItemDoCarrinho(id) {
        let carrinho = getCarrinho();
        carrinho = carrinho.filter(item => item.id !== id);
        salvarCarrinho(carrinho);
    }

    function atualizarQuantidadeItem(id, quantidade) {
        let carrinho = getCarrinho();
        const item = carrinho.find(item => item.id === id);
        if (item) {
            item.quantidade = quantidade;
            salvarCarrinho(carrinho);
        }
    }

    // --- INICIALIZAÇÃO ---
    atualizarContadorHeader();
    renderizarStatusFavoritos();

    // Event Listeners
    document.querySelectorAll('.add-to-cart-btn').forEach(botao => {
        botao.addEventListener('click', function() {
            const card = this.closest('.card');
            if (!card) return;

            const idBase = this.dataset.id;
            const nomeBase = this.dataset.nome;
            const preco = parseFloat(this.dataset.preco || 0);
            const imagem = this.dataset.imagem || '';

            const tamanhoEl = card.querySelector('.tamanho-option.selected');
            const corEl = card.querySelector('.cor-option.selected');

            if (!tamanhoEl) {
                alert('Por favor, selecione um tamanho.');
                return;
            }
            if (!corEl) {
                alert('Por favor, selecione uma cor.');
                return;
            }

            const tamanho = tamanhoEl.dataset.tamanho;
            const cor = corEl.dataset.cor;
            const idVariante = `${idBase}-${tamanho}-${cor}`;
            const nomeVariante = `${nomeBase} (${tamanho} / ${cor})`;
            
            adicionarAoCarrinho(idVariante, nomeVariante, preco, imagem);
            renderizarItensNoCarrinhoLateral();
        });
    });

    document.querySelectorAll('.favorite-btn').forEach(botao => {
        botao.addEventListener('click', function(e) {
            e.preventDefault();
            toggleFavorito(this.dataset.id, this);
        });
    });

    // Controles do carrinho lateral com verificação de elementos
    const abrirCarrinhoBtn = document.getElementById('abrir-carrinho-lateral');
    const fecharCarrinhoBtn = document.getElementById('fechar-carrinho-lateral');
    const limparCarrinhoBtn = document.getElementById('limpar-carrinho-btn');

    if (abrirCarrinhoBtn && modalCarrinho) {
        abrirCarrinhoBtn.addEventListener('click', function(event) {
            event.preventDefault();
            renderizarItensNoCarrinhoLateral();
            modalCarrinho.classList.add('aberto');
        });
    }

    if (fecharCarrinhoBtn && modalCarrinho) {
        fecharCarrinhoBtn.addEventListener('click', function() {
            modalCarrinho.classList.remove('aberto');
        });
    }

    if (limparCarrinhoBtn) {
        limparCarrinhoBtn.addEventListener('click', limparCarrinho);
    }

    // Lógica para seleção de tamanho e cor com tratamento seguro
    document.querySelectorAll('.card').forEach(card => {
        // Tamanhos
        const tamanhosContainer = card.querySelector('.tamanhos-container');
        if (tamanhosContainer) {
            tamanhosContainer.querySelectorAll('.tamanho-option').forEach(opcao => {
                opcao.addEventListener('click', function(e) {
                    e.stopPropagation();
                    tamanhosContainer.querySelectorAll('.tamanho-option').forEach(btn => {
                        btn.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
        }

        // Cores
        const coresContainer = card.querySelector('.cores-container');
        if (coresContainer) {
            coresContainer.querySelectorAll('.cor-option').forEach(opcao => {
                opcao.addEventListener('click', function(e) {
                    e.stopPropagation();
                    coresContainer.querySelectorAll('.cor-option').forEach(btn => {
                        btn.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
        }
    });
});
</script>
</body>
</html>